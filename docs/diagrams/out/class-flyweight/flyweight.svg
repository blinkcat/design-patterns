<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="321px" preserveAspectRatio="none" style="width:413px;height:321px;" version="1.1" viewBox="0 0 413 321" width="413px" zoomAndPan="magnify"><defs><filter height="300%" id="f1jnuwe71x0idf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Client--><rect fill="#FEFECE" filter="url(#f1jnuwe71x0idf)" height="48" id="Client" style="stroke: #A80036; stroke-width: 1.5;" width="64" x="36.5" y="8"/><ellipse cx="51.5" cy="24" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M53.9731,30.1431 Q53.3921,30.4419 52.7529,30.5913 Q52.1138,30.7407 51.4082,30.7407 Q48.9014,30.7407 47.5815,29.0889 Q46.2617,27.437 46.2617,24.3159 Q46.2617,21.1865 47.5815,19.5347 Q48.9014,17.8828 51.4082,17.8828 Q52.1138,17.8828 52.7612,18.0322 Q53.4087,18.1816 53.9731,18.4805 L53.9731,21.2031 Q53.3423,20.6221 52.7488,20.3523 Q52.1553,20.0825 51.5244,20.0825 Q50.1797,20.0825 49.4949,21.1492 Q48.8101,22.2158 48.8101,24.3159 Q48.8101,26.4077 49.4949,27.4744 Q50.1797,28.541 51.5244,28.541 Q52.1553,28.541 52.7488,28.2712 Q53.3423,28.0015 53.9731,27.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="32" x="65.5" y="28.5352">Client</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="37.5" x2="99.5" y1="40" y2="40"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="37.5" x2="99.5" y1="48" y2="48"/><!--class FlyweightFactory--><rect fill="#FEFECE" filter="url(#f1jnuwe71x0idf)" height="60.9551" id="FlyweightFactory" style="stroke: #A80036; stroke-width: 1.5;" width="125" x="6" y="116"/><ellipse cx="21" cy="132" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M23.4731,138.1431 Q22.8921,138.4419 22.2529,138.5913 Q21.6138,138.7407 20.9082,138.7407 Q18.4014,138.7407 17.0815,137.0889 Q15.7617,135.437 15.7617,132.3159 Q15.7617,129.1865 17.0815,127.5347 Q18.4014,125.8828 20.9082,125.8828 Q21.6138,125.8828 22.2612,126.0322 Q22.9087,126.1816 23.4731,126.4805 L23.4731,129.2031 Q22.8423,128.6221 22.2488,128.3523 Q21.6553,128.0825 21.0244,128.0825 Q19.6797,128.0825 18.9949,129.1492 Q18.3101,130.2158 18.3101,132.3159 Q18.3101,134.4077 18.9949,135.4744 Q19.6797,136.541 21.0244,136.541 Q21.6553,136.541 22.2488,136.2712 Q22.8423,136.0015 23.4731,135.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="93" x="35" y="136.5352">FlyweightFactory</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="130" y1="148" y2="148"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="7" x2="130" y1="156" y2="156"/><ellipse cx="17" cy="167" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="26" y="170.6348">getFlyweight(key)</text><!--class Flyweight--><rect fill="#FEFECE" filter="url(#f1jnuwe71x0idf)" height="60.9551" id="Flyweight" style="stroke: #A80036; stroke-width: 1.5;" width="84" x="166.5" y="116"/><ellipse cx="181.5" cy="132" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M181.6133,127.5981 L180.4595,132.6699 L182.7754,132.6699 Z M180.1191,125.3569 L183.1157,125.3569 L186.4609,137.75 L184.0122,137.75 L183.2485,134.687 L179.9697,134.687 L179.2227,137.75 L176.7739,137.75 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="52" x="195.5" y="136.5352">Flyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="167.5" x2="249.5" y1="148" y2="148"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="167.5" x2="249.5" y1="156" y2="156"/><text fill="#000000" font-family="sans-serif" font-size="11" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="172.5" y="170.6348">operation()</text><!--class ConcreteFlyweight--><rect fill="#FEFECE" filter="url(#f1jnuwe71x0idf)" height="73.9102" id="ConcreteFlyweight" style="stroke: #A80036; stroke-width: 1.5;" width="135" x="42" y="237"/><ellipse cx="57" cy="253" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M59.4731,259.1431 Q58.8921,259.4419 58.2529,259.5913 Q57.6138,259.7407 56.9082,259.7407 Q54.4014,259.7407 53.0815,258.0889 Q51.7617,256.437 51.7617,253.3159 Q51.7617,250.1865 53.0815,248.5347 Q54.4014,246.8828 56.9082,246.8828 Q57.6138,246.8828 58.2612,247.0322 Q58.9087,247.1816 59.4731,247.4805 L59.4731,250.2031 Q58.8423,249.6221 58.2488,249.3523 Q57.6553,249.0825 57.0244,249.0825 Q55.6797,249.0825 54.9949,250.1492 Q54.3101,251.2158 54.3101,253.3159 Q54.3101,255.4077 54.9949,256.4744 Q55.6797,257.541 57.0244,257.541 Q57.6553,257.541 58.2488,257.2712 Q58.8423,257.0015 59.4731,256.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="103" x="71" y="257.5352">ConcreteFlyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="43" x2="176" y1="269" y2="269"/><ellipse cx="53" cy="280" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="70" x="62" y="283.6348">intrinsicState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="43" x2="176" y1="289.9551" y2="289.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="48" y="304.5898">operation()</text><!--class UnsharedConcreteFlyweight--><rect fill="#FEFECE" filter="url(#f1jnuwe71x0idf)" height="73.9102" id="UnsharedConcreteFlyweight" style="stroke: #A80036; stroke-width: 1.5;" width="190" x="212.5" y="237"/><ellipse cx="227.5" cy="253" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M229.9731,259.1431 Q229.3921,259.4419 228.7529,259.5913 Q228.1138,259.7407 227.4082,259.7407 Q224.9014,259.7407 223.5815,258.0889 Q222.2617,256.437 222.2617,253.3159 Q222.2617,250.1865 223.5815,248.5347 Q224.9014,246.8828 227.4082,246.8828 Q228.1138,246.8828 228.7612,247.0322 Q229.4087,247.1816 229.9731,247.4805 L229.9731,250.2031 Q229.3423,249.6221 228.7488,249.3523 Q228.1553,249.0825 227.5244,249.0825 Q226.1797,249.0825 225.4949,250.1492 Q224.8101,251.2158 224.8101,253.3159 Q224.8101,255.4077 225.4949,256.4744 Q226.1797,257.541 227.5244,257.541 Q228.1553,257.541 228.7488,257.2712 Q229.3423,257.0015 229.9731,256.4204 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="158" x="241.5" y="257.5352">UnsharedConcreteFlyweight</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="213.5" x2="401.5" y1="269" y2="269"/><ellipse cx="223.5" cy="280" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="38" x="232.5" y="283.6348">allState</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="213.5" x2="401.5" y1="289.9551" y2="289.9551"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="218.5" y="304.5898">operation()</text><!--link Client to FlyweightFactory--><path d="M68.5,56.04 C68.5,71.65 68.5,92.58 68.5,110.27 " fill="none" id="Client-&gt;FlyweightFactory" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="68.5,115.65,72.5,106.65,68.5,110.65,64.5,106.65,68.5,115.65" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link FlyweightFactory to Flyweight--><path d="M144.38,146.5 C151.75,146.5 159.12,146.5 166.48,146.5 " fill="none" id="FlyweightFactory&lt;-Flyweight" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="131.12,146.5,137.12,150.5,143.12,146.5,137.12,142.5,131.12,146.5" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link Flyweight to ConcreteFlyweight--><path d="M172.4,193.27 C161.1,207.59 148.8,223.19 138.09,236.76 " fill="none" id="Flyweight&lt;-ConcreteFlyweight" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="167.16,188.61,185.04,177.24,178.15,197.28,167.16,188.61" style="stroke: #A80036; stroke-width: 1.0;"/><!--reverse link Flyweight to UnsharedConcreteFlyweight--><path d="M244.6,193.27 C255.9,207.59 268.2,223.19 278.91,236.76 " fill="none" id="Flyweight&lt;-UnsharedConcreteFlyweight" style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="238.85,197.28,231.96,177.24,249.84,188.61,238.85,197.28" style="stroke: #A80036; stroke-width: 1.0;"/><!--
@startuml flyweight
class Client
class FlyweightFactory{
  + getFlyweight(key)
}
abstract Flyweight{
  {abstract} operation()
}
class ConcreteFlyweight{
  + intrinsicState
  operation()
}
class UnsharedConcreteFlyweight{
  + allState
  operation()
}

Client - -> FlyweightFactory
FlyweightFactory o-right- Flyweight
ConcreteFlyweight .up.|> Flyweight
UnsharedConcreteFlyweight .up.|> Flyweight
@enduml

PlantUML version 1.2019.09(Tue Aug 27 00:19:51 CST 2019)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_152-b16
Operating System: Mac OS X
OS Version: 10.14.4
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>